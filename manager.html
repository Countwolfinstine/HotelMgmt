<html>
<head>
	<link rel="stylesheet" type = "text/css" href="css/bootstrap.min.css">
	<link rel="stylesheet" type = "text/css" href="css/style.css">
</head>
<title></title>
<style>

td, th 
{

    text-align: left;
    padding: 8px;
    color: white;
}

tr:nth-child(even) 
{
    background:transparent;

}

tr:nth-child(odd) 
{
    background:transparent;

}

body
{
background-image: url("images/tback.jpeg");
}

</style>
<body>
<script type = "text/javascript" src = "js/jquery-2.1.4.min.js"></script>

<div id = "container" class="container">
	<div id="recommender_menu">
		<p><b>Recommended Items to be prepared:</b></p>
		<table id="recommender_menu_table" class="table table-hover">
		  <tr>
		    <th scope="row">Food Name</th>
		    <th>Time</th>
		    <th>Ingredient</th>
		    <th>Quantity</th>
		  </tr>
		  <tr>
		    <td>Dosa</td>
		    <td>10:30 AM</td>
		    <td>Batter</td>
		    <td>100</td>
		  </tr>
		  <tr>
		    <td>Centro comercial Moctezuma</td>
		    <td>Francisco Chang</td>
		    <td>Mexico</td>
		    <td>Mexico</td>
		  </tr>
		</table>	
	</div>
	<br><br>
	<div id="inventory">
		<p><b> Inventory Items with quanities</b></p>
		<div id="inventory_details">
			<table id="inventory_details_table" class="table table-hover">
			  <tr>
			    <th>Ingredient</th>
			    <th>Quantity</th>
			  </tr>
			  <tr>
			    <td>Batter</td>
			    <td>1000</td>
			  </tr>
			  <tr>
			    <td>Potato</td>
			    <td>100</td>
			  </tr>
			</table>
		</div>
		<br><br>
		<a onclick="shdiv()"><p><b>Update ingredient Quantity:</b></p></a>
			
			<div id="inventory_update_quantity" class="subd1">
				<input type="text" name="update_ingredient_name" id="update_ingredient_name" placeholder="update_ingredient_name"/>
				<input type="number" name="update_ingredient_quantity" id="update_ingredient_quantity" placeholder="update_ingredient_quantity"/>
				<input type="button" name="go" value="go" id="btn_inventory_update_quantity" class="invbut"/>
			</div>
			
		<br><br>
		<a onclick="shdiv2()"><p><b>Add new ingredient:</b></p></a>
		<div id="inventory_add_new" class="subd2">
			<input type="text" name="new_ingredient_name" id="new_ingredient_name" placeholder="new_ingredient_name"/>
			<input type="number" name="new_ingredient_quantity" id="new_ingredient_quantity" placeholder="ingredient_quantity"/>
			<input type="button" name="go" value="go" id="btn_inventory_add_new" class="invbut">
		</div>
		<br><br>
		<a onclick="shdiv3()"><p><b>Add new food item to menu:</b></p></a>
		<div id="food_add_new" class="subd3">
			<input type="text" name="food_name" id="food_name" placeholder="ingredient_name"/>
			<input type="number" name="cost" id="cost" placeholder="cost"/>
			<input type="number" name="num_ingredients" id="num_ingredients" placeholder="total ingredients" max="10"/>
			<input type="button" name="go" value="go" id="btn_food_add_new" class="invbut">
		</div>
		<br><br>
		<a onclick="shdiv4()"><p><b>Add ingredient and quantity to item</b></p></a>
		<div id="food_ingredient_add" class="subd4">
			<input type="text" name="food_ingredient_fname" id="food_ingredient_fname" placeholder="food_ingredient_fname">
			<input type="text" name="food_ingredient_iname" id="food_ingredient_iname" placeholder="food_ingredient_iname">
			<input type="number" name="food_ingredient_iquant" id="food_ingredient_iquant" placeholder="food_ingredient_iquant">
			<input type="button" name="go" value="go" id="btn_food_ingredient_add" class="invbut">
		</div>
		<br><br>
		<a onclick="shdiv5()"><p><b>Enter start date, end date</b></p></a>
		<div id="food_sold" class="subd5">
			<input type="date" name="start_date" id="start_date"/>
			<input type="date" name="end_date" id="end_date"/>
			<input type="button" name="go" value="go" id="btn_food_sold"/ class="invbut">
			<br><br>
			<table id="table_food_sold" class="table table-hover">
			  <tr>
			    <th>Food Item</th>
			    <th>Quantity</th>
			    <th>Amount(Rs.)</th>
			  </tr>
			  <tr>
			    <td>Dosa</td>
			    <td>100</td>
			    <td>2000</td>
			  </tr>
			  <tr>
			    <td>Idli</td>
			    <td>500</td>
			    <td>5000</td>
			  </tr>
			</table>
		</div>
	</div>
</div>
<br><br>
<script type="text/javascript">
	$(document).ready(function () {
		// $.getJSON('/manager-api/',printTerms);
		$("#btn_inventory_update_quantity").click(function(){
			var ingredientName = $("#update_ingredient_name").val();
			var ingredientQuantity = $("#update_ingredient_quantity").val();
			
			$.get("/manager-api/update-ingredient/"+ingredientName+"/"+ingredientQuantity, function(data,status){
				alert("Data");
			});
			
		});
		$("#btn_inventory_add_new").click(function(){
			var ingredientName = $("#new_ingredient_name").val();
			var ingredientQuantity = $("#new_ingredient_quantity").val();
			
			$.get("/manager-api/add-ingredient/"+ingredientName+"/"+ingredientQuantity,function(data,status){
				console.log(data);
				console.log(status);
			});	
		});
		
		$("#btn_food_add_new").click(function(){
			var foodName = $("#food_name").val();
			var cost = $("#cost").val();
			$.get("/manager-api/add-food/"+foodName+"/"+cost);	
		});

		$("#btn_food_ingredient_add").click(function(){
			var foodName = $("#food_ingredient_fname").val();
			var ingName = $("#food_ingredient_iname").val();
			var ingQuantity = $("#food_ingredient_iquant").val();
			$.get("/manager-api/add-food-ingredient/"+foodName+"/"+ingName+"/"+ingQuantity);
		});
		
		$('#btn_food_sold').click(function(){
			var startDate = $("#start_date").val();
			var endDate = $("#end_date").val();
			$.getJSON('/manager-api/duration-food-sold/'+startDate+'/'+endDate, printDuration);
		});
		
		
	});
	
	function printTerms(terms){
		var recommendedItems = terms[0];
		var inventoryItems = terms[1];
		$.each(recommendedItems,function(index,term){
			$("#recommender_menu_table").append("<tr>"+
			"<td>"+term[0]+"</td>"+
			"<td>"+term[1]+"</td>"+
			"<td>"+term[2]+"</td>"+
			"<td>"+term[3]+"</td>"+
			"</tr>");
		});
		$.each(inventoryItems,function(index,term){
			$("#inventory_details_table").append("<tr>"+
			"<td>"+term[0]+"</td>"+
			"<td>"+term[1]+"</td>"+
			"</tr>");
		});
		console.log('blue');
		
	}
	
	function printDuration(terms){
		$.each(terms,function(index,term){
			$('food_sold').append("<tr>"+
			"<td>"+term['foodName']+"</td>"+
			"<td>"+term['foodQuantity']+"</td>"+
			"<td>"+term['foodAmount']+"</td>"+
			"</tr>");
		});
	}

	function shdiv() 
	{
		var ele = document.getElementById("inventory_update_quantity");
		ele.style.display = "block";

	}
	function shdiv2() 
	{
		var ele = document.getElementById("inventory_add_new");
		ele.style.display = "block";

	}
	function shdiv3() 
	{
		var ele = document.getElementById("food_add_new");
		ele.style.display = "block";

	}
	function shdiv4() 
	{
		var ele = document.getElementById("food_ingredient_add");
		ele.style.display = "block";

	}
	function shdiv5() 
	{
		var ele = document.getElementById("food_sold");
		ele.style.display = "block";

	}
	

</script>
</body>
</html>
